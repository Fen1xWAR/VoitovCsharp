<html>
<center> 
<head>
   <META http-equiv="Content-Type"    content="text/html; charset=windows-1251">

<style type="text/css">
  table { margin-left: auto;  margin-right: auto; position: relative;  top: 10px; }
</style>
</head>

<body>
     <button id="button1" onclick="beg1();" >Начать</button>   
     <input   id="idtext" value="1000"  >  
     <input type="button"   value="+"  id=idplus  onclick=vplusminus("+"); >  
     <input type="button"   value="-"  id=idminus  onclick=vplusminus("-"); >  
</body>
</center>

<script type="text/javascript" >

var table; 
var rows  = 5;  // Число строк
var cells  = 5;  // Число ячеек в строке (количество столбцов)
var hw=40; 


function getvalue(id) {
  var s; var objid= document.getElementById(id);
  if(!objid)  return false;
  s= objid.value;
  if (!s) {  s= objid.firstChild.nodeValue;}
  return s;
}


  function delete2()
  {  
      if (typeof table !=="undefined"){
          table.parentNode.removeChild(table);
      }
  }


//####1####
function iset(Pncr) {
   alert('Hello:  ***  '+Pncr+' ***');
}

var btn;  // кнопка
function ndobt(i,j) //создает кнопку
{    var s; 
      btn = document.createElement("input");
    
      btn.name = 'nbt' + i + j;	
      s= 'b' + i + j;  btn.id = s;   btn.type = 'button';    // или submit, reset;
      btn.value = s;
      btn.setAttribute('onclick','iset("b'+i+''+j+'"); ');  // событие onclick 
}  
//####1####  


var bimg=1;
var bbtn=0;
function cr_emptytable()   
  {  var k=0;   var i, m;

    delete2();

    table = document.createElement("table");
    table.style.background= '#FFDDDD';   
    table.id= "idt";
    var body = document.getElementsByTagName("body")[0];
    table.border=1;        
    table.align="center";  
    tableBody = document.createElement("tbody");

    // Создать все ячейки
    k=0; 
    for (var i = 0; i < rows; i++) {
       var row = document.createElement("tr");  // Создать строку

       for (var j = 0; j < cells; j++) { 
          var cell = document.createElement("td");
          cell.style.color="blue";   

          cell.height=hw; cell.width=hw;  
 
          if (bimg) {  //   заполнить изображенияма таблицу
            imgblank = document.createElement("IMG");
            imgblank.setAttribute('onclick','clickblank('+k+'); ');   

            m= Math.floor(Math.random()*10)+ 1;
            imgblank.src= m+".png"; 
            imgblank.height=100; imgblank.width=100;
            imgblank.id="idim"+k;  
            imgblank.height=hw; imgblank.width=hw;  

            cell.appendChild(imgblank);
         }    
 
         if (bbtn) {  //   заполнить кнопками таблицу
             ndobt(i,j);
             btn.style.width= hw;    btn.style.height= hw; 
             cell.appendChild(btn);  
         }

         k++;
         row.appendChild(cell);
       } 

       // Добавить строку в конец элемента tbody
       tableBody.appendChild(row);
    } // i,j  NRow  setclick    

    // Поместить <tbody> внуть <table>
    table.appendChild(tableBody);
    // Добавить <table> внутрь <body>
    body.appendChild(table);

vplusminus("+");

}   //cell  top  table


var Wtmtbimg;
var tmtbimg;
function beg1() 
{
    cr_emptytable();
    tmtbimg= getvalue("idtext");   
    Wtmtbimg = setInterval("cr_emptytable()", tmtbimg);
}

function vplusminus(z) //ssss
{  
   var i,j,k;  var objid; var id;
   if(z=="+") hw+= +5;
   if(z=="-") hw+=  -5;

    k=0; 
    for ( i = 0; i < rows; i++) {
       for ( j = 0; j < cells; j++) {    
          id= "idim"+k; 
          objid= document.getElementById(id);
          objid.width=   hw;
          objid.height= hw;
          k++;
       }
    }
}

</script>
</html>


